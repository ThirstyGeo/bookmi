browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
library(foreign) # activate the foreign package to use the read.spss function
dataset <- read.spss(file="Backpain 50 missing.sav", to.data.frame=T)
library(mice) # Activate the mice package to use the mice function
imp_mean <- mice(dataset, method="mean", m=1, maxit=1)
browseURL("_book/advanced-multiple-imputation-models-for-multilevel-data.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
library(psfmi)
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
(system2('pdflatex', '-v'))
(system2('pdflatex', '-v', stdout = F))
bookdown::render_book("index.Rmd", "bookdown::pdf_document")
devtools::install_github('rstudio/rmarkdown#1041')
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/data-analysis-after-multiple-imputation.html")
browseURL("_book/multiple-imputation-and-regression-modelling.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/data-analysis-after-multiple-imputation.html")
browseURL("_book/multiple-imputation-and-regression-modelling.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
```{r fig2, echo = FALSE, fig.cap="Data View window in SPSS", out.width='90%', fig.align='center'}
?bookdown::preview_chapter()
bookdown::preview_chapter(03-SingleMissingdataimputation, output_format=pdf_document)
bookdown::preview_chapter(03-SingleMissingdataimputation, output_forma="pdf_document")
bookdown::preview_chapter("03-SingleMissingdataimputation.Rmd", output_forma="pdf_document")
?bookdown::preview_chapter
library(mice)
mice.impute.pmm()
mice.impute.pmm
mice.impute.sample
mice.impute.mean
bookdown::preview_chapter(03-SingleMissingdataimputation.Rmd)
bookdown::preview_chapter("03-SingleMissingdataimputation.Rmd")
bookdown::preview_chapter("03-SingleMissingdataimputation.Rmd", output_format=pdf_document)
bookdown::preview_chapter("03-SingleMissingdataimputation.Rmd", output_format="pdf_document")
bookdown::preview_chapter("03-SingleMissingdataimputation.Rmd", output_format="pdf_document")
bookdown::preview_chapter("03-SingleMissingdataimputation.Rmd", output_format="pdf_document")
bookdown::preview_chapter("03-SingleMissingdataimputation.Rmd", output_format="html_document")
bookdown::preview_chapter("05-AfterMultipleImputation.Rmd", output_format="pdf_document")
bookdown::preview_chapter("05-AfterMultipleImputation.Rmd", output_format="pdf_document")
bookdown::preview_chapter("03-SingleMissingdataimputation.Rmd", output_format="html_document")
bookdown::preview_chapter("03-SingleMissingdataimputation.Rmd", output_format="pdf_document")
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
install.packages("kableExtra")
```{r , echo=FALSE}
```{r , echo=FALSE}
```{r , echo=FALSE}
library(tidyverse)
library(kableExtra)
```
```{r }
library(tidyverse)
library(kableExtra)
```
bookdown::preview_chapter("index.Rmd", output.format1("pdf_document"))
bookdown::preview_chapter("index.Rmd", output_format="pdf_document")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
browseURL("_book/index.html")
dataset <- read.spss(file="Backpain 50 missing.sav", to.data.frame=T)
library(foreign)
dataset <- read.spss(file="Backpain 50 missing.sav", to.data.frame=T)
dataset <- dataset[, c("ID", "Pain", "Tampascale")]
head(dataset, 15)
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("kableExtra")
install.packages("kableExtra")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
dataset <- read.spss(file="PMM 10 missing.sav", to.data.frame = T)
library(foreign)
dataset <- read.spss(file="PMM 10 missing.sav", to.data.frame = T)
#y	= Incomplete data vector of length n  # vector of variable with missing data
y <- dataset$Tampascale
#ry	= Vector of missing data pattern (FALSE=missing, TRUE=observed) # missing data indicator
ry <- !is.na(y)
#x	= Matrix (n x p) of complete covariates.
x <- as.matrix(dataset[, 1])
dimnames(x) <- list(NULL, "Pain")
donors = 3
type = 1
ridge = 1e-05
x <- cbind(1, as.matrix(x))
ynum <- y
set.seed(3281)
parm <- .norm.draw(ynum, ry, x, ridge = ridge)
library(foreign)
library(mice)
dataset <- read.spss(file="PMM 10 missing.sav", to.data.frame = T)
#y	= Incomplete data vector of length n  # vector of variable with missing data
y <- dataset$Tampascale
#ry	= Vector of missing data pattern (FALSE=missing, TRUE=observed) # missing data indicator
ry <- !is.na(y)
#x	= Matrix (n x p) of complete covariates.
x <- as.matrix(dataset[, 1])
dimnames(x) <- list(NULL, "Pain")
donors = 3
type = 1
ridge = 1e-05
x <- cbind(1, as.matrix(x))
ynum <- y
set.seed(3281)
parm <- .norm.draw(ynum, ry, x, ridge = ridge)
yhatobs <- x[ry, ] %*% parm$coef
yhatmis <- x[!ry, ] %*% parm$beta
y[is.na(y)] <- yhatmis
x[ry, ] <- yhatobs
x[!ry, ] <- yhatmis
dataset <- data.frame(dataset, x[, 1], ry, y)
# predicted missing value = 1, predicted observed value =0
# Prepare dataset to make plot
dataset$ry <- ifelse(dataset$ry, 0, 1)
names(dataset) <- c("ID", "Pain", "Tampascale", "Tampa_Obs", "Group", "Tampascale_Complete")
dataset <- dataset[, -c(5, 6)]
#dataset$Col <- ry
dataset <- round(dataset, 3)
dataset
library(foreign)
library(mice)
dataset <- read.spss(file="PMM 10 missing.sav", to.data.frame = T)
#y	= Incomplete data vector of length n  # vector of variable with missing data
y <- dataset$Tampascale
#ry	= Vector of missing data pattern (FALSE=missing, TRUE=observed) # missing data indicator
ry <- !is.na(y)
#x	= Matrix (n x p) of complete covariates.
x <- as.matrix(dataset[, 1])
dimnames(x) <- list(NULL, "Pain")
donors = 3
type = 1
ridge = 1e-05
x <- cbind(1, as.matrix(x))
ynum <- y
set.seed(3281)
parm <- .norm.draw(ynum, ry, x, ridge = ridge)
yhatobs <- x[ry, ] %*% parm$coef
yhatmis <- x[!ry, ] %*% parm$beta
y[is.na(y)] <- yhatmis
x[ry, ] <- yhatobs
x[!ry, ] <- yhatmis
dataset <- data.frame(dataset, x[, 1], ry, y)
# predicted missing value = 1, predicted observed value =0
# Prepare dataset to make plot
dataset$ry <- ifelse(dataset$ry, 0, 1)
names(dataset) <- c("ID", "Pain", "Tampascale", "Tampa_Obs", "Group", "Tampascale_Complete")
dataset <- dataset[, -c(5, 6)]
#dataset$Col <- ry
dataset <- round(dataset, 3)
dataset$Tampa_Obs[which(is.na(dataset$Tampascale))] <- NA
dataset
browseURL("_book/single-missing-data-imputations.html")
browseURL("_book/single-missing-data-imputations.html")
library(foreign)
library(mice)
library(knitr)
library(kableExtra)
dataset <- suppressMessages(read.spss(file="PMM 10 missing.sav", to.data.frame = T))
y <- dataset$Tampascale
ry <- !is.na(y)
x <- as.matrix(dataset[, 1])
dimnames(x) <- list(NULL, "Pain")
donors = 3
type = 1
ridge = 1e-05
x <- cbind(1, as.matrix(x))
ynum <- y
set.seed(3281)
parm <- .norm.draw(ynum, ry, x, ridge = ridge)
yhatobs <- x[ry, ] %*% parm$coef
yhatmis <- x[!ry, ] %*% parm$beta
y[is.na(y)] <- yhatmis
x[ry, ] <- yhatobs
x[!ry, ] <- yhatmis
dataset <- data.frame(dataset, x[, 1], ry, y)
# predicted missing value = 1, predicted observed value =0
# Prepare dataset to make plot
dataset$ry <- ifelse(dataset$ry, 0, 1)
names(dataset) <- c("ID", "Pain", "Tampascale", "Tampa_Obs", "Group", "Tampascale_Complete")
dataset <- dataset[, -c(5, 6)]
dataset <- round(dataset, 3)
dataset$Tampa_Obs[which(is.na(dataset$Tampascale))] <- NA
kable(dataset, "latex", booktabs = T)
library(rmarkdown)
library(foreign)
library(mice)
library(knitr)
library(kableExtra)
dataset <- suppressMessages(read.spss(file="PMM 10 missing.sav", to.data.frame = T))
y <- dataset$Tampascale
ry <- !is.na(y)
x <- as.matrix(dataset[, 1])
dimnames(x) <- list(NULL, "Pain")
donors = 3
type = 1
ridge = 1e-05
x <- cbind(1, as.matrix(x))
ynum <- y
set.seed(3281)
parm <- .norm.draw(ynum, ry, x, ridge = ridge)
yhatobs <- x[ry, ] %*% parm$coef
yhatmis <- x[!ry, ] %*% parm$beta
y[is.na(y)] <- yhatmis
x[ry, ] <- yhatobs
x[!ry, ] <- yhatmis
dataset <- data.frame(dataset, x[, 1], ry, y)
# predicted missing value = 1, predicted observed value =0
# Prepare dataset to make plot
dataset$ry <- ifelse(dataset$ry, 0, 1)
names(dataset) <- c("ID", "Pain", "Tampascale", "Tampa_Obs", "Group", "Tampascale_Complete")
dataset <- dataset[, -c(5, 6)]
dataset <- round(dataset, 3)
dataset$Tampa_Obs[which(is.na(dataset$Tampascale))] <- NA
kable(dataset, "latex", booktabs = T) %>%
kable_styling(latex_options = "striped")
?kable
?kable
library(float)
install.packages("float")
install.packages("tlmgr")
install.packages(c("blogdown", "devtools", "digest", "dplyr", "ggplot2", "miceadds", "rlang", "servr", "stringi", "survey", "tidyr", "tidyselect", "tinytex", "vegan", "xfun"))
install.packages(c("blogdown", "devtools", "digest", "dplyr", "ggplot2", "miceadds", "rlang", "servr", "stringi", "survey", "tidyr", "tidyselect", "tinytex", "vegan", "xfun"))
library("tinytex", lib.loc="~/R/win-library/3.5")
library("knitLatex", lib.loc="~/R/win-library/3.5")
install.packages(c("knitLatex", "tinytex"))
install.packages("float")
library(float)
suppressWarnings(suppressMessages(library(knitr)))
suppressWarnings(suppressMessages(library(kableExtra)))
suppressWarnings(suppressMessages(library(mice)))
suppressWarnings(suppressMessages(library(float)))
library(foreign)
library(mice)
library(knitr)
library(kableExtra)
library(float)
dataset <- suppressMessages(read.spss(file="PMM 10 missing.sav", to.data.frame = T))
y <- dataset$Tampascale
ry <- !is.na(y)
x <- as.matrix(dataset[, 1])
dimnames(x) <- list(NULL, "Pain")
donors = 3
type = 1
ridge = 1e-05
x <- cbind(1, as.matrix(x))
ynum <- y
set.seed(3281)
parm <- .norm.draw(ynum, ry, x, ridge = ridge)
yhatobs <- x[ry, ] %*% parm$coef
yhatmis <- x[!ry, ] %*% parm$beta
y[is.na(y)] <- yhatmis
x[ry, ] <- yhatobs
x[!ry, ] <- yhatmis
dataset <- data.frame(dataset, x[, 1], ry, y)
# predicted missing value = 1, predicted observed value =0
# Prepare dataset to make plot
dataset$ry <- ifelse(dataset$ry, 0, 1)
names(dataset) <- c("ID", "Pain", "Tampascale", "Tampa_Obs", "Group", "Tampascale_Complete")
dataset <- dataset[, -c(5, 6)]
dataset <- round(dataset, 3)
dataset$Tampa_Obs[which(is.na(dataset$Tampascale))] <- NA
kable(dataset, "latex", booktabs = T) %>%
kable_styling(position = "center")
library(foreign)
library(mice)
dataset <- suppressMessages(read.spss(file="PMM 10 missing.sav", to.data.frame = T))
y <- dataset$Tampascale
ry <- !is.na(y)
x <- as.matrix(dataset[, 1])
dimnames(x) <- list(NULL, "Pain")
donors = 3
type = 1
ridge = 1e-05
x <- cbind(1, as.matrix(x))
ynum <- y
set.seed(3281)
parm <- .norm.draw(ynum, ry, x, ridge = ridge)
yhatobs <- x[ry, ] %*% parm$coef
yhatmis <- x[!ry, ] %*% parm$beta
y[is.na(y)] <- yhatmis
x[ry, ] <- yhatobs
x[!ry, ] <- yhatmis
dataset <- data.frame(dataset, x[, 1], ry, y)
# predicted missing value = 1, predicted observed value =0
# Prepare dataset to make plot
dataset$ry <- ifelse(dataset$ry, 0, 1)
names(dataset) <- c("ID", "Pain", "Tampascale", "Tampa_Obs", "Group", "Tampascale_Complete")
dataset <- dataset[, -c(5, 6)]
#dataset$Col <- ry
dataset <- round(dataset, 3)
dataset$Tampa_Obs[which(is.na(dataset$Tampascale))] <- NA
z <- as.array(yhatmis)
yhat = yhatobs
y = y[ry]
donors = donors
# subtract first missing value from all predicted values of observed data
dataset$Difference <- abs(round(dataset$Tampa_Obs, 3)-43.594)
dataset <- round(dataset, 3)
kable(dataset, "latex", booktabs = T)
bookdown:::serve_book()
install.packages("xtable")
library(xtable)
# Read in the SPSS dataset
library(foreign)
dataset <- read.spss(file="Backpain 150 Missing MI datasets.sav", to.data.frame=T)
library(mice)
# Apply multiple imputation
imp <- mice(dataset, m=3, maxit=50, seed=2375, printFlag = F)
library(mice)
library(mice)
# Read in the SPSS dataset
library(foreign)
dataset <- read.spss(file="Backpain 150 Missing MI datasets.sav", to.data.frame=T)
library(mice)
# Apply multiple imputation
imp <- mice(dataset, m=3, maxit=50, seed=2375, printFlag = F)
install.packages("mice")
install.packages("mice")
# Read in the SPSS dataset
library(foreign)
dataset <- read.spss(file="Backpain 150 Missing MI datasets.sav", to.data.frame=T)
library(mice)
install.packages("mice")
library(mice)
# Read in the SPSS dataset
library(foreign)
dataset <- read.spss(file="Backpain 150 Missing MI datasets.sav", to.data.frame=T)
library(mice)
# Apply multiple imputation
imp <- mice(dataset, m=3, maxit=50, seed=2375, printFlag = F)
# Stack imputed datasets in long format, exclude the original data
impdat <- complete(imp,action="long",include = FALSE)
# compute mean and standard deviation in each imputed dataset
desc <- with(impdat, by(impdat, .imp, function(x) c(mean(x$Tampascale),sd(x$Tampascale))))
desc
Reduce("+",desc)/length(desc)
bookdown::preview_chapter(01-software.Rmd)
bookdown::preview_chapter("01-software.Rmd")
?bookdown::preview_chapter
bookdown::preview_chapter("01-software.Rmd", output_format=pdf)
bookdown::preview_chapter("01-software.Rmd", output_format="pdf")
bookdown::preview_chapter("01-software.Rmd", output_format="pdf_document")
bookdown::preview_chapter("01-software.Rmd", output_format="pdf_document")
bookdown::preview_chapter("01-software.Rmd", output_format="pdf_document")
bookdown::preview_chapter("01-software.Rmd", output_format="pdf_document")
bookdown::preview_chapter("01-software.Rmd", output_format="pdf_document")
bookdown::preview_chapter("01-software.Rmd", output_format="pdf_document")
library(mice)
miceadds
```{r , echo=FALSE}
suppressWarnings(suppressMessages(library(tidyverse)))
library(foreign)
dataset <- read.spss(file="AGGO_wide.sav", to.data.frame = T)
View(dataset)
library(foreign)
aggo <- read.spss(file="AGGO_wide.sav", to.data.frame = T)
?gather
View(aggo)
library(foreign)
aggo <- read.spss(file="AGGO_wide.sav", to.data.frame = T)
aggo %>%
gather(key = "Time", value="Cholesterol", Cholesterol1:Cholesterol6)
View(aggo)
View(aggo)
library(dplyr)
mini_iris <-
iris %>%
group_by(Species) %>%
slice(1)
mini_iris %>% gather(key = flower_att, value = measurement, -Species)
View(aggo)
aggo %>%
gather(key = "Time", value=c("Cholesterol", "Sumsk", Cholesterol1:SumSkinfolds6)
)
aggo %>%
gather(key = "Time", value="Cholesterol", Cholesterol1:SumSkinfolds6)
aggo2 <- aggo %>%
gather(key = "Time", value="Cholesterol", Cholesterol1:SumSkinfolds6)
View(aggo2)
aggo2 <- aggo %>%
gather(key = "Time", value="Cholesterol", Cholesterol1:Cholesterol6,
value="Sumskinfold", SumSkinfolds1:SumSkinfolds6)
library(foreign)
aggo <- read.spss(file="AGGO_wide.sav", to.data.frame = T)
aggo2 <- aggo %>%
gather(key = "Time", value="Outcome", Cholesterol1:SumSkinfolds6)
View(aggo2)
View(aggo2)
library(foreign)
aggo <- read.spss(file="AGGO_wide.sav", to.data.frame = T)
aggo2 <- aggo %>%
gather(key = "Time", value="Outcome", Cholesterol1:SumSkinfolds6) %>%
separate(Outcome, c("Cholesterol", "Sumskinfolds")) %>%
arrange(id)
browseURL("_book/index.html")
setwd("C:\\Users\\mwhey\\CharlotteSchreurs\\100_19-11-2018 Imputatie analyses\\Main_Analyses_4")
blogdown:::serve_site()
```{r, echo = FALSE, eval=T}
browseURL("_book/index.html")
setwd("C:\\Users\\mwhey\\CharlotteSchreurs\\101_20-11-2018 Update analyses")
# MWH November 2018
library(foreign)
library(lme4)
library(ggplot2)
require(AICcmodavg)
require(car)
require(languageR)
library(rms)
library(pROC)
library(car)
rm(list = ls())
dat <- read.spss(file="CPR IPDv13122018.sav", to.data.frame = T)
dat$APO2 <- as.numeric(as.character(dat$APO2))
rm(list = ls())
dat <- read.spss(file="CPR IPDv13122018_MWH.sav", to.data.frame = T)
rm(list = ls())
dat <- read.spss(file="CPR IPDv13122018_MWH.sav", to.data.frame = T)
# MWH November 2018
library(foreign)
library(lme4)
library(ggplot2)
require(AICcmodavg)
require(car)
require(languageR)
library(rms)
library(pROC)
library(car)
rm(list = ls())
dat <- read.spss(file="CPR IPDv13122018_MWH.sav", to.data.frame = T)
dat$APO2 <- as.numeric(as.character(dat$APO2))
# CPR
dat_CPR <- subset(dat, GA32_BW0==1)
# MWH November 2018
library(foreign)
library(lme4)
library(ggplot2)
require(AICcmodavg)
require(car)
require(languageR)
library(rms)
library(pROC)
library(car)
rm(list = ls())
dat <- read.spss(file="CPR IPDv10102018_MWH.sav", to.data.frame = T)
dat$APO2 <- as.numeric(as.character(dat$APO2))
dat$GA_grouped <- cut(dat$GA_del_days, breaks=c(168, 237, 258, 306), right=TRUE,
labels = c(1,2,3))
#dat$GA_grouped <- as.numeric(as.character(dat$GA_grouped))
table(dat$GA_grouped)
#Subgroup 1
# CPR
dat_CPR <- subset(dat, GA_grouped==1)
dat_CPR <- dat_CPR[, c("APO2", "CPR", "Study")]
dat_CPR <- na.omit(dat_CPR)
# CPR
fit_CPR <- glmer(APO2 ~ CPR  + (1 | Study), family=binomial, data=dat_CPR)
summary(fit_CPR)
fit_CPR[[1]]
fit_CPR[[2]]
model.matrix(fit_CPR)
pred <-imp$PredictorMatrix
library(mice)
imp <- mice(data, m=5, maxit=10, method="pmm")
library(mice)
data <- read.spss(file="Backpain50 MI missing.sav", to.data.frame=T)[, -1]
library(mice)
library(foreign)
data <- read.spss(file="Backpain50 MI missing.sav", to.data.frame=T)[, -1]
read.spss(file="Backpain50 MI missing.sav", to.data.frame=T)[, -1]
